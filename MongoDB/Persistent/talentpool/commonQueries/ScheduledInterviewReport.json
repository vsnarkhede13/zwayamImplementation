{
    "companyId": "14977",
    "queryName": "ScheduledInterviewReport",
    "query": "SELECT j.reference_number AS 'Indent Id',j.job_code AS 'Job Code', concat(ja.first_name, ' ', ja.last_name) AS 'Candidate Name', j.job_title AS 'Job Title', ja.matchedSkills AS 'Skills', ja.id AS 'Application Id', ja.email_id as 'Candidate Email ID', ja.is_active as 'Application Status', ja.current_status as 'Current Status', ( select rfv.value from c3_requisition_field_values rfv join c3_requisition_fields rf on rfv.requisition_field_id = rf.id where rf.field_name = 'Opportunity/Project Name' and rfv.requisition_id = j.id limit 1 ) as 'Account', ( select rfv.value from c3_requisition_field_values rfv join c3_requisition_fields rf on rfv.requisition_field_id = rf.id where rf.field_name = 'Business Unit' and rfv.requisition_id = j.id limit 1 ) as 'Business Unit', ais.interview_round as 'Interview Type (L1/L2/L3)',(select iq.templateName from c3_interviewQuestionnaire iq where iq.id = ais.template_id) as 'Feedback Template Name', DATE_FORMAT(ais.interview_from_time_1, '%e-%b-%Y') as 'Interview Date', ( select aa.actionCode from ApplyAction aa where aa.applyId = ais.applicantion_id and aa.subflowName = ais.interview_round and aa.actionCode in ('Interview Select', 'Interview Reject') limit 1 ) as 'Candidate Status', ( select u.username from c3_user u where u.id = ais.scheduled_by ) as 'Interview Scheduled By', ( SELECT GROUP_CONCAT(DISTINCT U.username) FROM c3_application_interviewer AS ai, c3_user AS U WHERE ai.interview_id = ais.id AND U.id = ai.user_id ) as 'Interviewer Name',( select group_concat(distinct u.username) from c3_applicant_interview_feedback aif join c3_user u on aif.user_id = u.id where aif.interview_id = ais.id ) as 'Feedback provided by', ( select group_concat(username) from ApplyAction aa join c3_user u on aa.actedBy = u.id where aa.applyId = ais.applicantion_id and aa.subflowName = ais.interview_round and aa.actionCode in ('Interview Select', 'Interview Reject') limit 1 ) as 'Interview Result By', ( select u.employeeId from ApplyAction aa join c3_user u on aa.actedBy = u.id where aa.applyId = ais.applicantion_id and aa.subflowName = ais.interview_round and aa.actionCode in ('Interview Select', 'Interview Reject') limit 1 ) AS 'Interviewer Emp Id', ( select u.email_id from ApplyAction aa join c3_user u on aa.actedBy = u.id where aa.applyId = ais.applicantion_id and aa.subflowName = ais.interview_round and aa.actionCode in ('Interview Select', 'Interview Reject') limit 1 ) AS 'Interviewer Email ID', ( SELECT distinct U.username FROM c3_user U, c3_job_collaboration jc WHERE jc.id = ja.job_id AND jc.role = 'Recruiter' AND U.id = jc.user_id ) AS 'Recruiter Name', ( SELECT distinct U.username FROM c3_user U, c3_job_collaboration jc WHERE jc.id = ja.job_id AND jc.role = 'TA Lead' AND U.id = jc.user_id ) AS 'TA Lead' FROM c3_application_interview_schedule ais left join c3_job_application ja on ja.id = ais.applicantion_id LEFT JOIN c3_job j ON ja.job_id = j.id $conditions$",
    "conditions": "WHERE ja.company_id = $companyId$ and ja.job_id != '-1' and ais.interview_round not like 'Recruiter Screening' and  ((j.department_id IN (SELECT DISTINCT Department.id FROM c3_department Department, UserRoleGroup UserRoleGroup WHERE UserRoleGroup.user_id = $userId$ AND UserRoleGroup.companyId = $companyId$ AND Department.company_id = $companyId$ AND UserRoleGroup.roleCode IN (SELECT DISTINCT Role.roleCode FROM Role Role, UserRoleRightDefinition UserRoleRightDefinition WHERE Role.roleCode IN (UserRoleRightDefinition.roleCode) AND Role.companyId = $companyId$ AND Role.scope = 'Department') AND Department.departmentFullcode LIKE CONCAT(UserRoleGroup.deptFullCode, '%')) or j.id in (select job_id from c3_job_collaboration where user_id=$userId$)) or ja.company_id = (select companyId from UserRoleGroup where user_id= $userId$ and roleCode = 'Analytics Team')) and ais.reason_for_cancel_all is null",
    "filterConditions": {
        "fromDate": "ais.interview_from_time_1 >= '$fromDate$'",
        "toDate": "ais.interview_from_time_1 <= '$toDate$'",
        "recruiter": "jcol.user_id in ($recruiter$) ",
        "location": "j.location in ($location$) ",
        "department": " j.deptFullCode in ($department$) ",
        "hiringManager": "j.hiring_manager in ($hiringManager$) ",
        "jobStatus": "j.status = '$jobStatus$'"
    },
    "joiningTables": {
        "c3_job_collaboration": " join c3_job_collaboration jcol on j.id = jcol.job_id "
    },
    "fileName": "ScheduledInterviewReport.csv",
    "displayName": "Scheduled Interview Report (.csv)"
}